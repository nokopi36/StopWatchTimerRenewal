# 座長タイマー アプリ仕様書

## アプリ概要

**アプリ名**: 座長タイマー
**パッケージ名**: com.nokopi.stopwatchtimer
**対象OS**: Android 11.0 (API 30) 以上
**用途**: 会議・講演会などで使用する司会者向けタイマーアプリ

## 主な機能

### 1. タイマー機能

#### タイマー表示
- **表示形式**: hh:mm:ss（時:分:秒）
- **計測範囲**: 00:00 ～ 99:59:59
- **更新間隔**: 1秒ごと
- **表示位置**: 画面に大きく表示（自動サイズ調整）

#### タイマー制御
- **Startボタン**: タイマーを開始
  - 初期状態: 有効
  - タイマー動作中: 無効
  - 停止後: 有効

- **Stopボタン**: タイマーを一時停止
  - 初期状態: 無効
  - タイマー動作中: 有効
  - 停止後: 無効

- **Resetボタン**: タイマーを00:00にリセット
  - 初期状態: 無効
  - タイマー動作中: 無効
  - 停止後: 有効

- **音符ボタン**: 手動で警告音を再生
- 初期状態: 無効
- タイマー動作中: 無効
- 停止後: 有効

#### 特殊動作
- **画面スリープ防止**: タイマー動作中は画面が消灯しない

### 2. チャイム（音声通知）機能

アプリは3種類のチャイム時刻を設定可能：

#### チャイムの種類

1. **予鈴時間**
   - 最初の警告音
   - 音声ファイル: bell.mp3
   - 用途: 「もうすぐ時間です」の通知

2. **終鈴時間**
   - 2回目の警告音
   - 音声ファイル: bell.mp3
   - 用途: 「時間になりました」の通知

3. **終了時間**
   - 最終の終了音
   - 音声ファイル: end_chime.mp3
   - 用途: 「完全に終了です」の通知

#### チャイム動作仕様
- タイマーが設定時刻に到達すると**自動的に音が鳴る**
- 音量: アラーム音量で再生（システムのアラーム音量設定に従う）
- 重複防止: 同じ時刻では1回のみ再生
- 手動再生: メイン画面の音符ボタンで予鈴音を手動再生可能

#### チャイム時刻の表示
メイン画面の中央付近に設定された時刻を表示：
- 予鈴時間 --:-- （または設定時刻）
- 終鈴時間 --:-- （または設定時刻）
- 終了時間 --:-- （または設定時刻）

### 3. 設定画面

右上の歯車アイコンから設定画面に遷移。

#### 設定可能項目

**予鈴時間の設定**
- 表示: "予鈴時間" + 現在の設定値
- 設定ボタン: 時刻の右側の歯車アイコン

**終鈴時間の設定**
- 表示: "終鈴時間" + 現在の設定値
- 設定ボタン: 時刻の右側の歯車アイコン

**終了時間の設定**
- 表示: "終了時間" + 現在の設定値
- 設定ボタン: 時刻の右側の歯車アイコン

#### 時刻設定ダイアログ

各時刻の設定ボタンを押すと、カスタムダイアログが表示される：

**NumberPickerによる入力**
- 4つのNumberPicker（10分の位、1分の位、10秒の位、1秒の位）
- 分: 0～59
- 秒: 0～59
- 既存の設定値がある場合は初期値として表示

**ボタン**
- OK: 設定を保存してダイアログを閉じる
- Cancel: 設定をキャンセルしてダイアログを閉じる

#### バージョン情報
設定画面の右下に "ver.X.X" 形式でアプリバージョンを表示

### 4. データ永続化

このアプリは設定を保存する

## 技術仕様

- **言語**: Kotlin
- **UI**: Jetpack Compose
- **DI**: Hilt
- **アーキテクチャ**: Multi-module + Clean Architecture
- **ビルドツール**: Gradle (Kotlin DSL)
- **最小 SDK**: 30
- **ターゲット SDK**: 36

## 想定利用シーン

1. **会議の司会**
   - 予鈴: 5分前に警告
   - 終鈴: 終了時刻
   - 終了: 延長時の強制終了

2. **プレゼンテーション**
   - 予鈴: 残り時間の通知
   - 終鈴: 発表終了
   - 終了: 質疑応答終了

3. **講演会・セミナー**
   - 複数の時間管理ポイントでの音声通知
